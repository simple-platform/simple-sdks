{
  "$schema": "https://raw.githubusercontent.com/jetify-com/devbox/0.16.0/.schema/devbox.schema.json",
  "packages": {
    "rustup": "1.28.2",
    "nodejs": "25.2.1"
  },
  "env": {
    "COREPACK_INTEGRITY_KEYS": "0",
    "DEVBOX_COREPACK_ENABLED": "true",
    "RUST_VERSION": "1.90.0",
    "RUST_BACKTRACE": "full"
  },
  "shell": {
    "init_hook": [
      "projectDir=$(dirname $(readlink -f \"$0\"))",
      "rustupHomeDir=\"$projectDir\"/.rustup",
      "mkdir -p $rustupHomeDir",
      "export RUSTUP_HOME=$rustupHomeDir",
      "export LIBRARY_PATH=$LIBRARY_PATH:\"$projectDir/nix/profile/default/lib\"",
      "if ! rustc --version | grep -q \"${RUST_VERSION}\"; then rustup install ${RUST_VERSION} && rustup default ${RUST_VERSION}; fi",
      "rustup component add rust-analyzer"
    ]
  }
}